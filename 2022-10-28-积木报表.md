# 2022-10-28
[文档](http://report.jeecg.com/)

# 字符串函数
## =char()
将编码转为字符串

## =cnmoney()
数字转为大写金额

## =concat()
将字符串进行拼接

## =low()
将字符串转换成小写

## =upper()
将字符串转成大写

## =date_str()
将日期转为字符串

# 数据集表达式
## =sum()
对数据集字段数值求和

## =average()
对数据集字段数值求平均值

## =max()
对字段求最大值

## =min()
对字段求最小值

### 注：sum和average和max之间不支持相加

## compute()
支持任意运算符计算
例子： `#{jm.compute(money+extend_money)}` jm为数据集编码，money、extend_money为数值字段

# 统计函数
## =DBSUM(db.xx)
指定数据集字段，对该字段所有数据求和
- 与sum函数相比，DBSUM统计的是数据集所有的数据，sum只支持当前页数的数据

## =DBMAX(db.xx)
指定数据集字段，求该字段所有数据的最大值
- 与DBSUM函数一样，统计数据集所有数据，max只支持当前页的数据

## =DBMIN(db.xx)和=DBAVERAGE(db.xx)
同理可得

# 行号函数
## =row()
通过这个函数来实现自增序号
当多个列表需要行号，需要设置一个数字来区分计数器
例如：=row(1)和=row(2) 为了防止序号串掉

## #{t_index+1}
通过这种方式也可以实现自增序号函数
其中t是数据集

# 日期函数
## =date()
将字符串转换成日期型数据

## =time()
将字符串转换成时间型数据

## =now()
获得系统此刻的日期时间

## =year()
从时期型数据中获得年信息

## =month()
从时间型数据中获得月信息

## =day()
从日期型数据中获得该日在本月中是几号

## =nowstr()
返回当前时间
返回值是字符串

# 条件表达式
## =case()
对数据进行判断
参数说明：case(expression, value, default)

## =if()
判断
例子：
```sql
    =(let sex= '#{dd.sex}';
    if(sex== '1'){
         '男'
    }elsif(sex== '2'){
        '女'
    }else{
         '未知'
    })
```
# 判断函数
## =istime()
判断字符串是否具有转换成时间的合法格式

## =isdate()
判断字符串是否具有转换成日期的合法格式

## =isnumber()
判断字符串是否具有转换成数值的合法格式

## =intval()
参数为空则返回默认值0

## =strval()
参数为空则返回默认值`nil`

